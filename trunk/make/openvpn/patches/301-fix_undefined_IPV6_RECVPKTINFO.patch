--- socket.c
+++ socket.c
@@ -893,6 +893,9 @@ create_socket_udp6 (const unsigned int flags)
   else if (flags & SF_USE_IP_PKTINFO)
     {
       int pad = 1;
+#ifndef IPV6_RECVPKTINFO
+#define IPV6_RECVPKTINFO            49
+#endif
       if (setsockopt (sd, IPPROTO_IPV6, IPV6_RECVPKTINFO,
 		      (void*)&pad, sizeof(pad)) < 0)
 	msg(M_SOCKERR, "UDP: failed setsockopt for IPV6_RECVPKTINFO");

