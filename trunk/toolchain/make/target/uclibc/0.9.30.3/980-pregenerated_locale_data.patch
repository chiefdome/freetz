--- extra/locale/Makefile.in
+++ extra/locale/Makefile.in
@@ -141,6 +141,7 @@
 endif
 endif
 
+ifneq ($(UCLIBC_PREGENERATED_LOCALE_DATA),y)
 # code needs to be modified to support top_builddir in almost all apps that write directly to a file
 # grep fopen *.c
 $(locale_OUT)/c8tables.h: $(locale_OUT)/gen_wc8bit $(locale_OUT)/codesets.txt
@@ -172,6 +173,7 @@
 	$(Q)grep COL_IDX_ $(word 2,$^) | \
 		$(SED) -e "s/^.*COL_IDX_\([^, ]*\).*$$/\1/" | sort | uniq | \
 		xargs $< $(locale_DIR)/collation $(FLAG-locale-verbose) -o $@
+endif
 
 $(locale_OUT)/$(LOCALE_DATA_FILENAME):
 ifeq ($(UCLIBC_DOWNLOAD_PREGENERATED_LOCALE_DATA),y)
