-include $(TOOLCHAIN_DIR)/make/kernel/*/Makefile.in
-include $(TOOLCHAIN_DIR)/make/target/*/Makefile.in

REAL_GNU_KERNEL_NAME:=mipsel-unknown-linux-gnu
GNU_KERNEL_NAME:=mipsel-linux

KERNEL_TOOLCHAIN_GCC_VERSION:=$(strip $(subst ",, $(DS_KERNEL_GCC_VERSION)))
KERNEL_TOOLCHAIN_BINUTILS_VERSION:=$(strip $(subst ",, $(DS_KERNEL_BINUTILS_VERSION)))
KERNEL_TOOLCHAIN_DIR:=$(shell pwd)/$(SOURCE_DIR)/toolchain/kernel
KERNEL_TOOLCHAIN_COMPILER:=gcc-$(KERNEL_TOOLCHAIN_GCC_VERSION)
KERNEL_TOOLCHAIN_STAGING_DIR:=$(shell pwd)/$(TOOLCHAIN_BUILD_DIR)/$(KERNEL_TOOLCHAIN_COMPILER)/$(REAL_GNU_KERNEL_NAME)

KERNEL_TOOLCHAIN_PATH:=$(KERNEL_TOOLCHAIN_STAGING_DIR)/bin:/bin:/sbin:/usr/bin:/usr/sbin

TARGET_TOOLCHAIN_GCC_VERSION:=$(strip $(subst ",, $(DS_TARGET_GCC_VERSION)))
TARGET_TOOLCHAIN_UCLIBC_VERSION:=$(strip $(subst ",, $(DS_TARGET_UCLIBC_VERSION)))
TARGET_TOOLCHAIN_BINUTILS_VERSION:=$(strip $(subst ",, $(DS_TARGET_BINUTILS_VERSION)))

TARGET_TOOLCHAIN_UCLIBC_REF:=$(strip $(subst ",, $(DS_TARGET_UCLIBC_REF)))

TARGET_TOOLCHAIN_DIR:=$(shell pwd)/$(SOURCE_DIR)/toolchain/target
TARGET_TOOLCHAIN_COMPILER:=gcc-$(TARGET_TOOLCHAIN_GCC_VERSION)-uClibc-$(TARGET_TOOLCHAIN_UCLIBC_VERSION)
TARGET_TOOLCHAIN_STAGING_DIR:=$(shell pwd)/$(TOOLCHAIN_BUILD_DIR)/$(TARGET_TOOLCHAIN_COMPILER)/$(REAL_GNU_TARGET_NAME)

TARGET_TOOLCHAIN_PATH:=$(TARGET_TOOLCHAIN_STAGING_DIR)/bin:/bin:/sbin:/usr/bin:/usr/sbin

TARGET_TOOLCHAIN_GDB_VERSION:=$(strip $(subst ",, $(DS_GDB_VERSION)))

ifeq ($(strip $(DS_BUILD_TOOLCHAIN)),y)
TOOLCHAIN+=kernel-toolchain
TOOLCHAIN+=target-toolchain
else
TOOLCHAIN:=download-toolchain
endif
