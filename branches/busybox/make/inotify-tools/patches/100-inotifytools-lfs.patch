--- libinotifytools/src/inotifytools.c.orig	2010-03-12 14:53:46.000000000 +0100
+++ libinotifytools/src/inotifytools.c	2010-03-16 20:07:07.000000000 +0100
@@ -1309,14 +1309,14 @@
 
 	static struct dirent * ent;
 	char * next_file;
-	static struct stat64 my_stat;
+	static struct stat my_stat;
 	ent = readdir( dir );
 	// Watch each directory within this directory
 	while ( ent ) {
 		if ( (0 != strcmp( ent->d_name, "." )) &&
 		     (0 != strcmp( ent->d_name, ".." )) ) {
 			nasprintf(&next_file,"%s%s", my_path, ent->d_name);
-			if ( -1 == lstat64( next_file, &my_stat ) ) {
+			if ( -1 == lstat( next_file, &my_stat ) ) {
 				error = errno;
 				free( next_file );
 				if ( errno != EACCES ) {
@@ -1595,9 +1595,9 @@
  * @internal
  */
 int isdir( char const * path ) {
-	static struct stat64 my_stat;
+	static struct stat my_stat;
 
-	if ( -1 == lstat64( path, &my_stat ) ) {
+	if ( -1 == lstat( path, &my_stat ) ) {
 		if (errno == ENOENT) return 0;
 		fprintf(stderr, "Stat failed on %s: %s\n", path, strerror(errno));
 		return 0;
--- src/common.c.orig	2010-03-12 14:53:46.000000000 +0100
+++ src/common.c	2010-03-16 20:07:07.000000000 +0100
@@ -41,9 +41,9 @@
 }
 
 int isdir( char const * path ) {
-	static struct stat64 my_stat;
+	static struct stat my_stat;
 
-	if ( -1 == lstat64( path, &my_stat ) ) {
+	if ( -1 == lstat( path, &my_stat ) ) {
 		if (errno == ENOENT) return 0;
 		fprintf(stderr, "Stat failed on %s: %s\n", path, strerror(errno));
 		return 0;
