--- isakmp-pkt.c.orig	2008-11-19 21:36:12.000000000 +0100
+++ isakmp-pkt.c	2012-06-16 08:58:21.965631148 +0200
@@ -34,6 +34,10 @@
 void *xallocc(size_t x)
 {
 	void *result;
+
+	if (x == 0)
+		++x;
+
 	result = calloc(1, x);
 	if (result == NULL)
 		error(1, errno, "malloc of %lu bytes failed", (unsigned long)x);
