--- src/Configure	2007-02-24 11:30:29.000000000 +0100
+++ src/Configure	2007-02-24 11:40:52.000000000 +0100
@@ -216,6 +216,75 @@
 CAT="cat"
 
 ####################################################################
+# create files for mipsel target platform
+$CAT << EOF > main/test_char.h
+/* this file is automatically generated by gen_test_char, do not edit */
+#define T_ESCAPE_SHELL_CMD	0x01 /* chars with special meaning in the shell */
+#define T_ESCAPE_PATH_SEGMENT	0x02 /* find path segment, as defined in RFC1808 */
+#define T_OS_ESCAPE_PATH	0x04 /* escape characters in a path or uri */
+#define T_HTTP_TOKEN_STOP	0x08 /* find http tokens, as defined in RFC2616 */
+#define T_ESCAPE_LOGITEM	0x10 /* filter what should go in the log file */
+#define T_ESCAPE_FORENSIC	0x20 /* filter what should go in the forensic log */
+
+static const unsigned char test_char_table[256] = {
+    0x20, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e,  /*0x00...0x07*/
+    0x3e, 0x3e, 0x3f, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e,  /*0x08...0x0f*/
+    0x3e, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e,  /*0x10...0x17*/
+    0x3e, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e,  /*0x18...0x1f*/
+    0x0e, 0x00, 0x17, 0x06, 0x01, 0x26, 0x01, 0x01,  /*0x20...0x27*/
+    0x09, 0x09, 0x01, 0x00, 0x08, 0x00, 0x00, 0x0a,  /*0x28...0x2f*/
+    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  /*0x30...0x37*/
+    0x00, 0x00, 0x28, 0x0f, 0x0f, 0x08, 0x0f, 0x0f,  /*0x38...0x3f*/
+    0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  /*0x40...0x47*/
+    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  /*0x48...0x4f*/
+    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  /*0x50...0x57*/
+    0x00, 0x00, 0x00, 0x0f, 0x1f, 0x0f, 0x07, 0x00,  /*0x58...0x5f*/
+    0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  /*0x60...0x67*/
+    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  /*0x68...0x6f*/
+    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  /*0x70...0x77*/
+    0x00, 0x00, 0x00, 0x0f, 0x27, 0x0f, 0x01, 0x3e,  /*0x78...0x7f*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0x80...0x87*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0x88...0x8f*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0x90...0x97*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0x98...0x9f*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0xa0...0xa7*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0xa8...0xaf*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0xb0...0xb7*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0xb8...0xbf*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0xc0...0xc7*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0xc8...0xcf*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0xd0...0xd7*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0xd8...0xdf*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0xe0...0xe7*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0xe8...0xef*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,  /*0xf0...0xf7*/
+    0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36   /*0xf8...0xff*/
+    
+};
+
+EOF
+
+$CAT << EOF > main/uri_delims.h
+/* this file is automatically generated by gen_uri_delims, do not edit */
+static const unsigned char uri_delims[256] = {
+    T_NUL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,T_HASH,0,0,0,0,
+    0,0,0,0,0,0,0,T_SLASH,0,0,0,0,0,0,0,0,0,0,T_COLON,0,
+    0,0,0,T_QUESTION,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 
+};
+
+EOF
+
+####################################################################
 ## Now we determine the OS/Platform automagically, thanks to
 ## GuessOS, a home-brewed OS-determiner ala config.guess
 ##
@@ -1582,13 +1651,16 @@
 case "$PLAT" in
     *-linux*)
 	# newer systems using glibc 2.x need -lcrypt
-	if ./helpers/TestCompile lib crypt; then
+	#if ./helpers/TestCompile lib crypt; then
+	if true; then
 	    LIBS="$LIBS -lcrypt"
 	fi
 	# see if prctl(PR_SET_DUMPABLE) is available
-	if TCADDINCL='#include <sys/prctl.h>
-static int required_flag = PR_SET_DUMPABLE;' ./helpers/TestCompile sizeof required_flag ; then
-	    if ./helpers/TestCompile func prctl; then
+#	if TCADDINCL='#include <sys/prctl.h>
+#static int required_flag = PR_SET_DUMPABLE;' ./helpers/TestCompile sizeof required_flag ; then
+	if true; then
+	    #if ./helpers/TestCompile func prctl; then
+		if true; then
 	        CFLAGS="$CFLAGS -DHAVE_SET_DUMPABLE"
 	    fi
 	fi
@@ -1597,12 +1669,14 @@
     *-dg-dgux*)
 	# R4.11MU02 requires -lsocket -lnsl ... no idea if it's earlier or
 	# later than what we already knew about.  PR#732
-	if ./helpers/TestCompile lib nsl; then
+	#if ./helpers/TestCompile lib nsl; then
+	if true; then
 	    LIBS="$LIBS -lnsl"
 	    TLIB='-lnsl'
 	fi
-	if TLIB=$TLIB ./helpers/TestCompile lib socket; then
-	    LIBS="-lsocket $LIBS"
+	#if TLIB=$TLIB ./helpers/TestCompile lib socket; then
+	if false; then
+		LIBS="-lsocket $LIBS"
 	fi
 	;;
     BS2000*-siemens-sysv4*)
@@ -1619,34 +1693,41 @@
 	# -lnsl may be available (or may be not).
 	# In standard SVR4 systems, -lsocket relies on some symbols
 	# from -lnsl, so the test for -lnsl must appear first.
-	if ./helpers/TestCompile lib nsl; then
+	#if ./helpers/TestCompile lib nsl; then
+	if true; then
 	    LIBS="$LIBS -lnsl"
 	    TLIB='-lnsl'
 	fi
-	if TLIB=$TLIB ./helpers/TestCompile lib socket; then
+	#if TLIB=$TLIB ./helpers/TestCompile lib socket; then
+	if false; then
 	    LIBS="-lsocket $LIBS"
 	fi
 	# Auto-detect presence of libdl for dynamic loading
-	if ./helpers/TestCompile lib dl; then
-	    if ./helpers/TestCompile func dlopen; then
-		LIBS="$LIBS -ldl"
-		TLIB='-ldl'
+	#if ./helpers/TestCompile lib dl; then
+	if true; then
+	    #if ./helpers/TestCompile func dlopen; then
+		if false; then
+			LIBS="$LIBS -ldl"
+			TLIB='-ldl'
 	    fi
 	fi
 	# Test for the presence of the "union semun":
-	if TCADDINCL='#include <sys/types.h>
+#	if TCADDINCL='#include <sys/types.h>
 #include <sys/ipc.h>
 #include <sys/sem.h>' ./helpers/TestCompile sizeof "union semun"; then
+	if false; then
             : Okay, union semun is defined
 	else
 	    CFLAGS="$CFLAGS -DNEED_UNION_SEMUN"
 	fi
 	# Test for the presence of the _rini_struct typedef:
-	if TCADDINCL='#include <pwd.h>' ./helpers/TestCompile sizeof _rini_struct; then
+	#if TCADDINCL='#include <pwd.h>' ./helpers/TestCompile sizeof _rini_struct; then
+	if false; then
 	    CFLAGS="$CFLAGS -DHAVE_RINI_STRUCT"
 	fi
 	# Test whether initgroups() must be emulated:
-	if ./helpers/TestCompile func initgroups; then
+	#if ./helpers/TestCompile func initgroups; then
+	if true; then
 	    :
 	else
 	    CFLAGS="$CFLAGS -DNEED_INITGROUPS"
@@ -1882,7 +1963,8 @@
 fi
 
 if [ "x$RULE_EXPAT" = "xyes" ]; then
-    if ./helpers/TestCompile lib expat; then
+    #if ./helpers/TestCompile lib expat; then
+	if false; then
         echo " + using system Expat"
         LIBS="$LIBS -lexpat"
     else
@@ -2186,19 +2268,23 @@
 	    esac
 	    ;;
 	*-hp-hpux*)
-	    if ./helpers/TestCompile func shl_load; then
+	    #if ./helpers/TestCompile func shl_load; then
+		if false; then
 		:
 	    else
-		if ./helpers/TestCompile lib dld; then
+		#if ./helpers/TestCompile lib dld; then
+		if false; then
 		    DL_LIB="-ldld"
 		fi
 	    fi
 	    ;;
 	* )
-	    if ./helpers/TestCompile func dlopen; then
+	    #if ./helpers/TestCompile func dlopen; then
+		if false; then
 		:
 	    else
-		if ./helpers/TestCompile lib dl; then
+		#if ./helpers/TestCompile lib dl; then
+		if false; then
 		    DL_LIB="-ldl"
 		fi
 	    fi
@@ -2216,7 +2302,8 @@
 ## We check the sizeof various data types
 ##
 echo " + checking sizeof various data types"
-AP_TYPE_QUAD=`./helpers/TestCompile -r sizeof 'long long'`
+#AP_TYPE_QUAD=`./helpers/TestCompile -r sizeof 'long long'`
+AP_TYPE_QUAD=8
 if [ "x$AP_TYPE_QUAD" = "x" ]; then
     AP_TYPE_QUAD="unknown_quad"
     AP_LONGEST_LONG="long"
@@ -2235,13 +2322,15 @@
 ##
 ## Check for availability of isinf() and isnan()
 ##
-if ./helpers/TestCompile func isinf ; then
+#if ./helpers/TestCompile func isinf ; then
+if false; then
     echo "" >>$AP_CONFIG_AUTO_H
     echo "/* determine: isinf() found in libc */ " >>$AP_CONFIG_AUTO_H
     echo "#ifndef HAVE_ISINF" >>$AP_CONFIG_AUTO_H
     echo "#define HAVE_ISINF 1" >>$AP_CONFIG_AUTO_H
     echo "#endif" >>$AP_CONFIG_AUTO_H
-elif ./helpers/TestCompile lib m isinf ; then
+#elif ./helpers/TestCompile lib m isinf ; then
+elif false; then
     echo "" >>$AP_CONFIG_AUTO_H
     echo "/* determine: isinf() found in libm */ " >>$AP_CONFIG_AUTO_H
     echo "#ifndef HAVE_ISINF" >>$AP_CONFIG_AUTO_H
@@ -2251,13 +2340,15 @@
     ADDED_LM="yes"
 fi
 
-if ./helpers/TestCompile func isnan ; then
+#if ./helpers/TestCompile func isnan ; then
+if false; then
     echo "" >>$AP_CONFIG_AUTO_H
     echo "/* determine: isnan() found in libc */ " >>$AP_CONFIG_AUTO_H
     echo "#ifndef HAVE_ISNAN" >>$AP_CONFIG_AUTO_H
     echo "#define HAVE_ISNAN 1" >>$AP_CONFIG_AUTO_H
     echo "#endif" >>$AP_CONFIG_AUTO_H
-elif ./helpers/TestCompile lib m isnan ; then
+#elif ./helpers/TestCompile lib m isnan ; then
+elif false; then
     echo "" >>$AP_CONFIG_AUTO_H
     echo "/* determine: isnan() found in libm */ " >>$AP_CONFIG_AUTO_H
     echo "#ifndef HAVE_ISNAN" >>$AP_CONFIG_AUTO_H
@@ -2270,7 +2361,8 @@
 
 ## We check for the endianess of the machine
 ##
-AP_BYTE_ORDER=`./helpers/TestCompile -r byteorder`
+#AP_BYTE_ORDER=`./helpers/TestCompile -r byteorder`
+AP_BYTE_ORDER=12
 if [ "x$AP_BYTE_ORDER" = "x21" ]; then
     AP_BYTE_ORDER="21" # big endian
 else
@@ -2286,12 +2378,14 @@
 ##
 ## Now compare the sizes of off_t to long
 ##
-AP_TYPE_OFF_T=`./helpers/TestCompile -r sizeof off_t`
+#AP_TYPE_OFF_T=`./helpers/TestCompile -r sizeof off_t`
+AP_TYPE_OFF_T=4
 if [ "x$AP_TYPE_OFF_T" = "x" ]; then
     AP_TYPE_OFF_T="unknown_off_t"
 fi
 
-AP_TYPE_LONG=`./helpers/TestCompile -r sizeof long`
+#AP_TYPE_LONG=`./helpers/TestCompile -r sizeof long`
+AP_TYPE_LONG=4
 if [ "x$AP_TYPE_LONG" = "x" ]; then
     AP_TYPE_LONG="unknown_long"
 fi
@@ -2313,7 +2407,9 @@
 ##
 ## Now see of void * is as big as a quad (long long)
 ##
-AP_TYPE_VOID_P=`./helpers/TestCompile -r sizeof 'void *'`
+#AP_TYPE_VOID_P=`./helpers/TestCompile -r sizeof 'void *'`
+#AP_TYPE_VOID_P=`./helpers/TestCompile -r sizeof 'void *'`
+AP_TYPE_VOID_P=4
 if [ "x$AP_TYPE_VOID_P" = "x" ]; then
     AP_TYPE_VOID_P="unknown_void_p"
 fi
--- src/include/ap_config.h.old	2007-02-24 11:31:11.000000000 +0100
+++ src/include/ap_config.h	2007-02-24 11:31:36.000000000 +0100
@@ -1459,4 +1459,6 @@
 }
 #endif
 
+#undef SYS_SIGLIST
+
 #endif /* !AP_CONFIG_H */
--- src/main/Makefile.tmpl.old	2007-02-24 11:34:14.000000000 +0100
+++ src/main/Makefile.tmpl	2007-02-24 11:33:20.000000000 +0100
@@ -29,14 +29,14 @@
 distclean: clean
 	-rm -f Makefile
 
-uri_delims.h: gen_uri_delims
-	./gen_uri_delims >uri_delims.h
+#uri_delims.h: gen_uri_delims
+#	./gen_uri_delims >uri_delims.h
 
 gen_uri_delims: gen_uri_delims.o
 	$(CC) $(CFLAGS) $(LDFLAGS) -o gen_uri_delims gen_uri_delims.o $(LIBS)
 
-test_char.h: gen_test_char
-	./gen_test_char >test_char.h
+#test_char.h: gen_test_char
+#	./gen_test_char >test_char.h
 
 gen_test_char: gen_test_char.o
 	$(CC) $(CFLAGS) $(LDFLAGS) -o gen_test_char gen_test_char.o $(LIBS)
