--- Makefile.orig	2011-05-22 09:37:42.000000000 +0200
+++ Makefile	2011-05-22 11:30:30.000000000 +0200
@@ -16,29 +16,29 @@
 #CC = gcc
 
 # Basic compiler, linker flags; should not need any changes.
-CFLAGS += -g -Wall
-LDFLAGS += -g
+## CFLAGS += -g -Wall
+## LDFLAGS += -g
 
 # You might need these if libpcap is installed somewhere random.
-CFLAGS += -I/usr/include/pcap
+## CFLAGS += -I/usr/include/pcap
 #LDFLAGS += -L/path/to/libpcap.so
 
 # Required on Linux to get BSDish definitions of the TCP/IP structs.
-CFLAGS += -D_BSD_SOURCE
+## CFLAGS += -D_BSD_SOURCE
 
 # We always need the pcap and pthread libraries.
-LDLIBS += -lpcap -lpthread
+## LDLIBS += -lpcap -lpthread
 
 # Optional C compiler and linker flags. Typical driftnet builds have support
 # for displaying captured images in an X window, and need the following flags:
-CFLAGS  += `gtk-config --cflags`
-LDLIBS  += -ljpeg -lungif `gtk-config --libs`
+#CFLAGS  += `gtk-config --cflags`
+#LDLIBS  += -ljpeg -lungif `gtk-config --libs`
 
 # Alternatively, you can build a version of driftnet which can only be used
 # in `adjunct' mode as the back end for some other image-processing program. To
 # use this, comment out the two preceding CFLAGS and LDLIBS lines and uncomment
 # the following line:
-#CFLAGS += -DNO_DISPLAY_WINDOW
+## CFLAGS += -DNO_DISPLAY_WINDOW
 
 # On systems with a C99 compiler, driftnet will use <stdint.h> for the
 # definitions of types such as uint8_t. On other systems like Solaris, these
@@ -58,13 +58,20 @@
 # No user-serviceable parts below this point.
 #
 
+
+
 # Driftnet version.
 VERSION = 0.1.6
-CFLAGS += -DDRIFTNET_VERSION='"$(VERSION)"'
+## CFLAGS += -DDRIFTNET_VERSION='"$(VERSION)"'
+
+CC=
+CFLAGS=
+LDFLAGS=
+LDLIBS=
 
 SUBDIRS = 
 
-TXTS = README TODO COPYING CHANGES CREDITS driftnet.1 driftnet.1.in endian.c
+TXTS = README TODO COPYING CHANGES CREDITS driftnet.1 driftnet.1.in
 SRCS = audio.c mpeghdr.c gif.c img.c jpeg.c png.c driftnet.c image.c \
        display.c playaudio.c connection.c media.c
 HDRS = img.h driftnet.h mpeghdr.h
@@ -72,13 +79,13 @@
 
 OBJS = $(SRCS:.c=.o)
 
-default: driftnet driftnet.1
+default: driftnet ##driftnet.1
 
-driftnet:   depend $(OBJS)
+driftnet:  $(OBJS)
 	$(CC) -o driftnet $(OBJS) $(LDFLAGS) $(LDLIBS)
 
-driftnet.1: driftnet.1.in Makefile
-	( echo '.\" DO NOT EDIT THIS FILE-- edit driftnet.1.in instead' ; sed s/@@@VERSION@@@/$(VERSION)/ ) < driftnet.1.in > driftnet.1
+##driftnet.1: driftnet.1.in Makefile
+##	( echo '.\" DO NOT EDIT THIS FILE-- edit driftnet.1.in instead' ; sed s/@@@VERSION@@@/$(VERSION)/ ) < driftnet.1.in > driftnet.1
 
 endianness: endian
 	./endian > endianness
@@ -86,29 +93,29 @@
 endian: endian.c
 	$(CC) $(CFLAGS) -o endian endian.c
 
-%.o:    %.c Makefile endianness
-	$(CC) $(CFLAGS) `cat endianness` -c -o $@ $<
+%.o:    %.c Makefile
+	$(CC) $(CFLAGS) -c -o $@ $<
 
-clean:  nodepend
-	rm -f *~ *.bak *.o core $(BINS) TAGS driftnet.1 endian endianness
+##clean:  nodepend
+##	rm -f *~ *.bak *.o core $(BINS) TAGS driftnet.1 ##endian endianness
 
 tags:
 	etags *.c *.h
 
-tarball: nodepend $(SRCS) $(HDRS) $(TXTS)
-	mkdir driftnet-$(VERSION)
-	set -e ; for i in Makefile $(SRCS) $(HDRS) $(TXTS) ; do cp $$i driftnet-$(VERSION)/$$i ; done
-	tar cvzf driftnet-$(VERSION).tar.gz driftnet-$(VERSION)
-	rm -rf driftnet-$(VERSION)
-	mv driftnet-$(VERSION).tar.gz ..
+##tarball: nodepend $(SRCS) $(HDRS) $(TXTS)
+##	mkdir driftnet-$(VERSION)
+##	set -e ; for i in Makefile $(SRCS) $(HDRS) $(TXTS) ; do cp $$i driftnet-$(VERSION)/$$i ; done
+##	tar cvzf driftnet-$(VERSION).tar.gz driftnet-$(VERSION)
+##	rm -rf driftnet-$(VERSION)
+##	mv driftnet-$(VERSION).tar.gz ..
 	
-depend: endianness
-	makedepend -- $(CFLAGS) `cat endianness` -- $(SRCS)
-	touch depend
-	rm -f Makefile.bak
-
-nodepend:
-	makedepend -- --
-	rm -f depend Makefile.bak
+##depend: endianness
+##	makedepend -- $(CFLAGS) `cat endianness` -- $(SRCS)
+##	touch depend
+##	rm -f Makefile.bak
+
+##nodepend:
+##	makedepend -- --
+##	rm -f depend Makefile.bak
 
 # DO NOT DELETE
