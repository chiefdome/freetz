--- configure.ac.orig	2009-04-23 23:45:50.000000000 +0200
+++ configure.ac	2009-04-23 23:48:26.000000000 +0200
@@ -42,7 +42,7 @@
 AC_ISC_POSIX
 AM_C_PROTOTYPES
 
-AC_CHECK_HEADERS(float.h fnmatch.h glob.h langinfo.h libintl.h mcheck.h unistd.h)
+AC_CHECK_HEADERS(float.h fnmatch.h glob.h langinfo.h mcheck.h unistd.h)
 
 # For some systems we know that we have ld_version scripts.
 # Use it then as default.
@@ -66,10 +66,9 @@
 AC_CHECK_FUNC(setreuid, [], [
     AC_CHECK_LIB(ucb, setreuid, [if echo $LIBS | grep -- -lucb >/dev/null ;then :; else LIBS="$LIBS -lc -lucb" USEUCB=y;fi])
 ])
-AC_CHECK_FUNCS(getuid geteuid iconv mtrace __secure_getenv setregid stpcpy strerror vasprintf srandom)
+AC_CHECK_FUNCS(getuid geteuid glob_pattern_p mtrace __secure_getenv setregid stpcpy strerror vasprintf srandom)
 
 AM_GNU_GETTEXT([external])
-AM_ICONV_LINK
 
 popt_sysconfdir="${sysconfdir}"
 eval "popt_sysconfdir=\"${popt_sysconfdir}\"" # expand contained ${prefix}
